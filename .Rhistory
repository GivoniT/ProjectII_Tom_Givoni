library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
locations <- read_excel("data/School Location 2024.xlsx")
locations <- read_excel("data/School Location 2024.xlsx")
scores <- read_excel("data/VCE/School_results_trimmed.xlsx")
View(scores)
df <- scores %>% left_join(locations)
View(locations)
View(scores)
View(locations)
locations <- locations %>% mutate(School = `School Name`)
df <- scores %>% left_join(locations)
View(scores)
View(df)
df %>% group_by(School) %>% count()
df %>% group_by(School) %>% count() %>% ==2
noc <- df %>% group_by(School) %>% count()
noc == 2
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 2)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 3)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 4)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 5)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 6)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 7)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 8)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 9)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 10)
noc <- df %>% group_by(School) %>% count()
sum(noc['n'] == 8)
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 8]
noc <- df %>% group_by(School) %>% count()
noc[,noc['n'] == 8]
noc <- df %>% group_by(School) %>% count()
noc['n'] == 8
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 8,]
locations <- locations %>% mutate(School = `School Name`)
locations <- filter(State = "VIC")
locations <- locations %>% mutate(School = `School Name`)
locations <- filter("State" = "VIC")
?filter
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State = "VIC")
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% left_join(locations)
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 8,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 8,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 6,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 2,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 3,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 4,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 5,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 6,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 4,]
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% cross_join(locations)
locations <- read_excel("data/School Location 2024.xlsx")
scores <- read_excel("data/VCE/School_results_trimmed.xlsx")
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% join(locations)
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% inner_join(locations)
(df[Locality] == df[Suburb]) %>% count()
(df["Locality"] == df["Suburb"]) %>% count()
(df["Locality"] == df["Suburb"])
df[(df["Locality"] == df["Suburb"]),]
df<-df[(df["Locality"] == df["Suburb"]),]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 4,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 1,]
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% inner_join(locations)
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 1,]
noc <- df %>% group_by(School) %>% count()
noc[noc['n'] == 1,]["School"]
noc <- df %>% group_by(School) %>% count()
schools_names_appearing_once <- noc[noc['n'] == 1,]["School"]
df_schools_appering_once <- df %>% filter(School in schools_names_appearing_once)
noc <- df %>% group_by(School) %>% count()
schools_names_appearing_once <- noc[noc['n'] == 1,]["School"]
df_schools_appering_once <- df %>% filter(School %in% schools_names_appearing_once)
View(df_schools_appering_once)
noc <- df %>% group_by(School) %>% count()
schools_names_appearing_once <- noc %>%
filter(n == 1) %>%
pull(School)
df_schools_appering_once <- df %>% filter(School %in% schools_names_appearing_once)
View(df_schools_appering_once)
noc <- df %>% group_by(School) %>% count()
schools_names_appearing_once <- noc %>%
filter(n == 1) %>%
pull(School)
df_schools_appering_once <- df %>% filter(School %in% schools_names_appearing_once)
schools_NOT_once <- noc %>%
filter(n != 1) %>%
pull(School)
df_schools_NOT_once <- df %>% filter(School %in% schools_NOT_once)
df_schools_NOT_once<-df_schools_NOT_once[(df_schools_NOT_once["Locality"] == df_schools_NOT_once["Suburb"]),]
noc <- df %>% group_by(School) %>% count()
schools_names_appearing_once <- noc %>%
filter(n == 1) %>%
pull(School)
df_schools_appering_once <- df %>% filter(School %in% schools_names_appearing_once)
schools_NOT_once <- noc %>%
filter(n != 1) %>%
pull(School)
df_schools_NOT_once <- df %>% filter(School %in% schools_NOT_once)
noc %>% filter(n != 1) %>% count()
noc %>% filter(n != 1) %>% length()
noc %>% filter(n != 1) %>% width()
noc %>% filter(n != 1) %>% dim()
df_schools_NOT_once<-df_schools_NOT_once[(df_schools_NOT_once["Locality"] == df_schools_NOT_once["Suburb"]),]
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% inner_join(locations)
locations <- locations %>% mutate(School = `School Name`)
locations <- locations %>% filter(State == "VIC")
df <- scores %>% inner_join(locations)
df2 <- bind_rows(df_schools_appering_once,df_schools_NOT_once)
View(df2)
library(writexl)
download.packages("writexl")
download.packages(writexl)
install.packages(writexl)
install.packages("writexl")
library(writexl)
write_xlsx(df2, "combined_df.xlsx")
library(writexl)
write_xlsx(df2, "data/combined_df.xlsx")
